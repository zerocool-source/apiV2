fastify.addSchema({
  $id: 'TechOpsEntry',
  type: 'object',
  properties: {
    id: { type: 'string', format: 'uuid' },
    serviceRepairNumber: { type: 'string', nullable: true },
    entryType: { type: 'string', enum: ['repairs_needed', 'service_repairs', 'chemical_order', 'chemicals_dropoff', 'windy_day_cleanup', 'report_issue', 'supervisor_concerns', 'add_notes', 'chemical_issue', 'equipment_failure', 'safety_concern', 'general_note'] },
    technicianName: { type: 'string', nullable: true },
    technicianId: { type: 'string', format: 'uuid', nullable: true },
    positionType: { type: 'string', nullable: true },
    propertyId: { type: 'string', format: 'uuid', nullable: true },
    propertyName: { type: 'string', nullable: true },
    propertyAddress: { type: 'string', nullable: true },
    issueTitle: { type: 'string', nullable: true },
    description: { type: 'string', nullable: true },
    notes: { type: 'string', nullable: true },
    priority: { type: 'string', enum: ['low', 'normal', 'high', 'urgent'] },
    status: { type: 'string', enum: ['pending', 'in_progress', 'reviewed', 'resolved', 'completed', 'cancelled', 'archived', 'dismissed'] },
    isRead: { type: 'boolean' },
    chemicals: { type: 'string', nullable: true },
    quantity: { type: 'string', nullable: true },
    issueType: { type: 'string', nullable: true },
    photos: { type: 'array', items: { type: 'string' } },
    reviewedBy: { type: 'string', format: 'uuid', nullable: true },
    reviewedAt: { type: 'string', format: 'date-time', nullable: true },
    resolvedBy: { type: 'string', nullable: true },
    resolvedAt: { type: 'string', format: 'date-time', nullable: true },
    resolutionNotes: { type: 'string', nullable: true },
    vendorId: { type: 'string', nullable: true },
    vendorName: { type: 'string', nullable: true },
    orderStatus: { type: 'string', enum: ['pending', 'sent_to_vendor', 'confirmed', 'delivered'], nullable: true },
    invoiceSentAt: { type: 'string', format: 'date-time', nullable: true },
    invoiceSentToVendorId: { type: 'string', nullable: true },
    invoiceTemplateId: { type: 'string', nullable: true },
    partsCost: { type: 'integer', nullable: true },
    commissionPercent: { type: 'integer', nullable: true },
    commissionAmount: { type: 'integer', nullable: true },
    convertedToEstimateId: { type: 'string', nullable: true },
    convertedAt: { type: 'string', format: 'date-time', nullable: true },
    createdAt: { type: 'string', format: 'date-time' },
    updatedAt: { type: 'string', format: 'date-time' },
    technician: { type: 'object', nullable: true },
    reviewer: { type: 'object', nullable: true },
    property: { type: 'object', nullable: true },
  },
});